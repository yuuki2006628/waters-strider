!function(){function t(t,i){this.x=t,this.y=i,this.vx=2*x*Math.random()-x,this.vy=2*x*Math.random()-x,this.ex=[],this.ey=[],this.rapple=[],this.size=u,this.step=Math.random()*l,this.color=o()}function i(t,i,h,s){var e=h-t,n=s-i;return Math.sqrt(e*e+n*n)}function h(t,i,h,s){return{x:h-t,y:s-i}}function s(t,i,h,s){v.beginPath(),v.arc(t,i,h,0,2*Math.PI,!1),v.fillStyle=s,v.strokeStyle=s,v.fill()}function e(t,i,h,s,e){v.beginPath(),v.arc(t,i,h,0,2*Math.PI,!1),v.strokeStyle=s,v.lineWidth=e,v.stroke()}function n(t,i,h,s,e){v.beginPath(),v.moveTo(t,i),v.lineTo(h,s),v.lineWidth=1,v.strokeStyle=e,v.stroke()}function o(){var t=100*Math.random();return"hsl("+t+",100%,50%)"}function r(){y=document.getElementById("canvas"),v=y.getContext("2d"),y.width=m,y.height=c;for(var i=0;i<p;i++){var h=Math.random()*m,s=Math.random()*c,e=new t(h,s);d.push(e)}a()}function a(){g=requestAnimationFrame(a),++w,v.clearRect(0,0,m,c);for(var t=0;t<d.length;t++)d[t].update(),d[t].bump()}var y,v,x=30,p=30,l=200,u=10,m=window.innerWidth,c=window.innerHeight,d=[],f=!1,M={x:0,y:0};document.onmousedown=function(t){f=!0,M={x:t.clientX,y:t.clientY}},document.onmouseup=function(t){f=!1,M={x:0,y:0}},t.prototype.update=function(t){if(++this.step,(this.x>m-x||this.y>c-x)&&(this.vx=Math.random()*x*-1,this.vy=Math.random()*x*-1,this.move()),(this.x<x||this.y<x)&&(this.vx=Math.random()*x,this.vy=Math.random()*x,this.move()),this.step>l&&(this.vx=2*x*Math.random()-x,this.vy=2*x*Math.random()-x,this.step=0,this.move()),f){var o=i(this.x,this.y,M.x,M.y);if(o<100){this.step=50;var r=h(this.x,this.y,M.x,M.y);this.vx=-r.x/o*x*Math.random(),this.vy=-r.y/o*x*Math.random(),this.move()}}var a=this.step/l*x;e(this.x,this.y,a,this.color,1/a);for(var y=0;y<this.ex.length;y++)++this.rapple[y],e(this.ex[y],this.ey[y],this.rapple[y],this.color,1/this.rapple[y]);this.rapple.length>30&&(this.rapple.shift(),this.ex.shift(),this.ey.shift()),n(this.x,this.y,this.x+this.vx,this.y+this.vy,this.color),s(this.x,this.y,this.size,this.color)},t.prototype.bump=function(){for(var t=0;t<d.length;t++){var s=d[t];if(this!=s){var e=i(this.x,this.y,s.x,s.y);if(e<x){var n=h(this.x,this.y,s.x,s.y);this.vx=n.x*-1,this.vy=n.y*-1,this.move()}}}},t.prototype.move=function(){this.ex.push(this.x),this.ey.push(this.y),this.rapple.push(this.step),this.x+=this.vx,this.y+=this.vy};var g=null,w=0;r()}();